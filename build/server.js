require("source-map-support").install(),module.exports=function(e){var t={},n={9:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.e=function(t){if(0!==n[t]){var r=require("./chunks/"+({0:"about~admin~contact~home~login~not-found~privacy~register",1:"not-found",2:"admin",3:"privacy",4:"about",5:"register",6:"login",7:"contact",8:"home"}[t]||t)+".js"),o=r.modules,i=r.ids;for(var a in o)e[a]=o[a];for(var c=0;c<i.length;c++)n[i[c]]=0}return Promise.all([])},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/",r.oe=function(e){process.nextTick(function(){throw e})},r.w={},r(r.s=35)}([function(e,t){e.exports=require("graphql")},function(e,t){e.exports=require("sequelize")},function(e,t,n){e.exports={port:process.env.PORT||3e3,trustProxy:process.env.TRUST_PROXY||"loopback",api:{clientUrl:process.env.API_CLIENT_URL||"",serverUrl:process.env.API_SERVER_URL||"http://localhost:".concat(process.env.PORT||3e3)},databaseUrl:process.env.DATABASE_URL||"sqlite:database.sqlite",analytics:{googleTrackingId:process.env.GOOGLE_TRACKING_ID},auth:{jwt:{secret:process.env.JWT_SECRET||"React Starter Kit"},facebook:{id:process.env.FACEBOOK_APP_ID||"186244551745631",secret:process.env.FACEBOOK_APP_SECRET||"a970ae3240ab4b9b8aae0f9f0661c6fc"},google:{id:process.env.GOOGLE_CLIENT_ID||"251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com",secret:process.env.GOOGLE_CLIENT_SECRET||"Y8yR9yZAhm9jQ8FKAL8QIEcd"},twitter:{key:process.env.TWITTER_CONSUMER_KEY||"Ie20AZvLJI2lQD5Dsgxgjauns",secret:process.env.TWITTER_CONSUMER_SECRET||"KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ"}}}},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){var r=n(33),o=n(26);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},function(e,t){e.exports=require("node-fetch")},function(e,t){e.exports=require("./chunk-manifest.json")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("express-jwt")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("isomorphic-style-loader/lib/withStyles")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("universal-router")},function(e,t){e.exports=require("passport-facebook")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("pretty-error")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("express-graphql")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=i(n(32)),o=i(n(31));function i(e){return e&&e.__esModule?e:{default:e}}var a="s",c={};e.exports=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.replace,u=void 0!==i&&i,s=n.prepend,l=void 0!==s&&s,p=[],f=0;f<e.length;f++){var d=(0,o.default)(e[f],4),y=d[0],h=d[1],m=d[2],b=d[3],v=y+"-"+f;if(p.push(v),!c[v]||u){c[v]=1;var g=document.getElementById(a+v),w=!1;g||(w=!0,(g=document.createElement("style")).setAttribute("type","text/css"),g.id=a+v,m&&g.setAttribute("media",m));var x=h;b&&"function"==typeof btoa&&(x+="\n/*# sourceMappingURL=data:application/json;base64,"+(t=(0,r.default)(b),btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)})))+"*/",x+="\n/*# sourceURL="+b.file+"?"+v+"*/"),"textContent"in g?g.textContent=x:g.styleSheet.cssText=x,w&&(l?document.head.insertBefore(g,document.head.childNodes[0]):document.head.appendChild(g))}else c[v]++}return function(e){e.forEach(function(e){if(--c[e]<=0){var t=document.getElementById(a+e);t&&t.parentNode.removeChild(t)}})}.bind(null,p)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";n.r(t);var r=n(25),o=n.n(r),i=n(13),a=n.n(i),c=n(24),u=n.n(c),s=n(12),l=n.n(s),p=n(11),f=n.n(p),d=n(0),y=n(23),h=n.n(y),m=n(22),b=n.n(m),v=n(8),g=n.n(v),w=n(3),x=n.n(w),k=n(6),j=n.n(k),O=n(21),S=n.n(O),_=n(4),P=n.n(_),T=n(20);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}({insertCss:P.a.func.isRequired,fetch:P.a.func.isRequired,pathname:P.a.string.isRequired,query:P.a.object},T.Provider.childContextTypes),N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x.a.PureComponent),n=t,(r=[{key:"getChildContext",value:function(){return this.props.context}},{key:"render",value:function(){return x.a.Children.only(this.props.children)}}])&&R(n.prototype,r),o&&R(n,o),t}();Object.defineProperty(N,"childContextTypes",{configurable:!0,enumerable:!0,writable:!0,value:C});var U,A=N,L=n(19),G=n.n(L),D=n(2),Q=n.n(D);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t,n,r){U||(U="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:U,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var F=K("meta",{charSet:"utf-8"}),z=K("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),J=K("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),W=K("link",{rel:"manifest",href:"/site.webmanifest"}),V=K("link",{rel:"apple-touch-icon",href:"/icon.png"}),H=K("script",{src:"https://www.google-analytics.com/analytics.js",async:!0,defer:!0}),Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.styles,o=e.scripts,i=e.app,a=e.children;return K("html",{className:"no-js",lang:"en"},void 0,K("head",{},void 0,F,z,K("title",{},void 0,t),K("meta",{name:"description",content:n}),J,o.map(function(e){return K("link",{rel:"preload",href:e,as:"script"},e)}),W,V,r.map(function(e){return K("style",{id:e.id,dangerouslySetInnerHTML:{__html:e.cssText}},e.id)})),K("body",{},void 0,K("div",{id:"app",dangerouslySetInnerHTML:{__html:a}}),K("script",{dangerouslySetInnerHTML:{__html:"window.App=".concat(G()(i))}}),o.map(function(e){return K("script",{src:e},e)}),Q.a.analytics.googleTrackingId&&K("script",{dangerouslySetInnerHTML:{__html:"window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;"+"ga('create','".concat(Q.a.analytics.googleTrackingId,"','auto');ga('send','pageview')")}}),Q.a.analytics.googleTrackingId&&H))}}])&&B(n.prototype,r),o&&B(n,o),t}();Object.defineProperty(Z,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{styles:[],scripts:[]}});var Y,X=Z,ee=n(14),te=n.n(ee),ne=n(7),re=n.n(ne);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t,n,r){Y||(Y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Y,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var ue=ie("div",{},void 0,ie("h1",{},void 0,"Error"),ie("p",{},void 0,"Sorry, a critical error occurred on this page.")),se=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ce(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x.a.Component),n=t,(r=[{key:"render",value:function(){return ue}}])&&ae(n.prototype,r),o&&ae(n,o),t}();Object.defineProperty(se,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{error:null}});te()(re.a)(se);function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pe(e,t,n[t])})}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=function(e,t){var n=t.baseUrl,r=t.cookie,o=t.schema,i=t.graphql,a={method:"POST",mode:n?"cors":"same-origin",credentials:n?"include":"same-origin",headers:le({Accept:"application/json","Content-Type":"application/json"},r?{Cookie:r}:null)};return c=regeneratorRuntime.mark(function t(r,c){var u,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.startsWith("/graphql"),!(o&&i&&u)){t.next=7;break}return s=JSON.parse(c.body),t.next=5,i(o,s.query,{request:{}},null,s.variables);case 5:return l=t.sent,t.abrupt("return",Promise.resolve({status:l.errors?400:200,json:function(){return Promise.resolve(l)}}));case 7:return t.abrupt("return",u||r.startsWith("/api")?e("".concat(n).concat(r),le({},a,c,{headers:le({},a.headers,c&&c.headers)})):e(r,c));case 8:case"end":return t.stop()}},t,this)}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=c.apply(e,t);function i(e,t){try{var i=o[e](t),c=i.value}catch(e){return void r(e)}i.done?n(c):Promise.resolve(c).then(a,u)}function a(e){i("next",e)}function u(e){i("throw",e)}a()})},function(e,t){return u.apply(this,arguments)};var c,u},de=n(10),ye=n.n(de),he=n(18),me=n(1),be=n.n(me),ve=new be.a(Q.a.databaseUrl,{define:{freezeTableName:!0}}),ge=ve.define("User",{id:{type:be.a.UUID,defaultValue:be.a.UUIDV1,primaryKey:!0},email:{type:be.a.STRING(255),validate:{isEmail:!0}},emailConfirmed:{type:be.a.BOOLEAN,defaultValue:!1}},{indexes:[{fields:["email"]}]}),we=ve.define("UserLogin",{name:{type:be.a.STRING(50),primaryKey:!0},key:{type:be.a.STRING(100),primaryKey:!0}}),xe=ve.define("UserClaim",{type:{type:be.a.STRING},value:{type:be.a.STRING}}),ke=ve.define("UserProfile",{userId:{type:be.a.UUID,primaryKey:!0},displayName:{type:be.a.STRING(100)},picture:{type:be.a.STRING(255)},gender:{type:be.a.STRING(50)},location:{type:be.a.STRING(100)},website:{type:be.a.STRING(255)}});ge.hasMany(we,{foreignKey:"userId",as:"logins",onUpdate:"cascade",onDelete:"cascade"}),ge.hasMany(xe,{foreignKey:"userId",as:"claims",onUpdate:"cascade",onDelete:"cascade"}),ge.hasOne(ke,{foreignKey:"userId",as:"profile",onUpdate:"cascade",onDelete:"cascade"});var je={sync:function(){return ve.sync.apply(ve,arguments)}};ye.a.use(new he.Strategy({clientID:Q.a.auth.facebook.id,clientSecret:Q.a.auth.facebook.secret,callbackURL:"/login/facebook/return",profileFields:["displayName","name","email","link","locale","timezone"],passReqToCallback:!0},function(e,t,n,r,o){(function(){var n,i=(n=regeneratorRuntime.mark(function n(){var i,a,c,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.user){n.next=14;break}return n.next=3,we.findOne({attributes:["name","key"],where:{name:"facebook",key:r.id}});case 3:if(!n.sent){n.next=8;break}o(),n.next=12;break;case 8:return n.next=10,ge.create({id:e.user.id,email:r._json.email,logins:[{name:"facebook",key:r.id}],claims:[{type:"urn:facebook:access_token",value:r.id}],profile:{displayName:r.displayName,gender:r._json.gender,picture:"https://graph.facebook.com/".concat(r.id,"/picture?type=large")}},{include:[{model:we,as:"logins"},{model:xe,as:"claims"},{model:ke,as:"profile"}]});case 10:i=n.sent,o(null,{id:i.id,email:i.email});case 12:n.next=33;break;case 14:return n.next=16,ge.findAll({attributes:["id","email"],where:{"$logins.name$":"facebook","$logins.key$":r.id},include:[{attributes:["name","key"],model:we,as:"logins",required:!0}]});case 16:if(!(a=n.sent).length){n.next=22;break}c=a[0].get({plain:!0}),o(null,c),n.next=33;break;case 22:return n.next=24,ge.findOne({where:{email:r._json.email}});case 24:if(!(u=n.sent)){n.next=29;break}o(null),n.next=33;break;case 29:return n.next=31,ge.create({email:r._json.email,emailConfirmed:!0,logins:[{name:"facebook",key:r.id}],claims:[{type:"urn:facebook:access_token",value:t}],profile:{displayName:r.displayName,gender:r._json.gender,picture:"https://graph.facebook.com/".concat(r.id,"/picture?type=large")}},{include:[{model:we,as:"logins"},{model:xe,as:"claims"},{model:ke,as:"profile"}]});case 31:u=n.sent,o(null,{id:u.id,email:u.email});case 33:case"end":return n.stop()}},n,this)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e,t){try{var n=i[e](t),a=n.value}catch(e){return void o(e)}n.done?r(a):Promise.resolve(a).then(c,u)}function c(e){a("next",e)}function u(e){a("throw",e)}c()})});return function(){return i.apply(this,arguments)}})()().catch(o)}));var Oe,Se,_e=ye.a,Pe=n(17),Te=n.n(Pe);var qe,Re={path:"",children:[{path:"",load:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,71))}},{path:"/contact",load:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,74))}},{path:"/login",load:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,75))}},{path:"/register",load:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,70))}},{path:"/about",load:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,77))}},{path:"/privacy",load:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,76))}},{path:"/admin",load:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,73))}},{path:"(.*)",load:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,72))}}],action:(Oe=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.next,e.next=3,n();case 3:return(r=e.sent).title="".concat(r.title||"Untitled Page"," - www.reactstarterkit.com"),r.description=r.description||"",e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),Se=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=Oe.apply(e,t);function i(e,t){try{var i=o[e](t),u=i.value}catch(e){return void r(e)}i.done?n(u):Promise.resolve(u).then(a,c)}function a(e){i("next",e)}function c(e){i("throw",e)}a()})},function(e){return Se.apply(this,arguments)})},Ee=new Te.a(Re,{resolveRoute:function(e,t){return"function"==typeof e.route.load?e.route.load().then(function(n){return n.default(e,t)}):"function"==typeof e.route.action?e.route.action(e,t):void 0}}),Ie={type:new d.GraphQLObjectType({name:"User",fields:{id:{type:new d.GraphQLNonNull(d.GraphQLID)},email:{type:d.GraphQLString}}}),resolve:function(e){var t=e.request;return t.user&&{id:t.user.id,email:t.user.email}}},Ce=new d.GraphQLObjectType({name:"NewsItem",fields:{title:{type:new d.GraphQLNonNull(d.GraphQLString)},link:{type:new d.GraphQLNonNull(d.GraphQLString)},author:{type:d.GraphQLString},pubDate:{type:new d.GraphQLNonNull(d.GraphQLString)},content:{type:d.GraphQLString}}}),Ne=[],Ue=new Date(1970,0,1),Ae={type:new d.GraphQLList(Ce),resolve:function(){return qe||(new Date-Ue>6e5?(Ue=new Date,qe=g()("https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Freactjsnews.com%2Ffeed.xml").then(function(e){return e.json()}).then(function(e){return"ok"===e.status&&(Ne=e.items),qe=null,Ne}).catch(function(e){throw qe=null,e}),Ne.length?Ne:qe):Ne)}},Le=new d.GraphQLSchema({query:new d.GraphQLObjectType({name:"Query",fields:{me:Ie,news:Ae}})}),Ge=n(9),De=n.n(Ge),Qe=n(5),Me=n(16),Ke=n.n(Me);n(30),n(29);var Be="SET_RUNTIME_VARIABLE";function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=Object(Qe.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},runtime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$e(e,t,n[t])})}return e}({},e,$e({},t.payload.name,t.payload.value));default:return e}}});function ze(e){return function(){var t,n=(t=regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:n,variables:r}),credentials:"include"},t.next=3,e("/graphql",o);case 3:if(200===(i=t.sent).status){t.next=6;break}throw new Error(i.statusText);case 6:return t.abrupt("return",i.json());case 7:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e,t){try{var n=i[e](t),a=n.value}catch(e){return void o(e)}n.done?r(a):Promise.resolve(a).then(c,u)}function c(e){a("next",e)}function u(e){a("throw",e)}c()})});return function(e,t){return n.apply(this,arguments)}}()}n(15);var Je;function We(e,t){var n,r,o,i={fetch:r=(n=t).fetch,history:n.history,graphqlRequest:ze(r)},a=[Ke.a.withExtraArgument(i)];return o=Qe.applyMiddleware.apply(void 0,a),Object(Qe.createStore)(Fe,e,o)}function Ve(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function He(e,t,n,r){Je||(Je="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:Je,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ye(e,t,n[t])})}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}process.on("unhandledRejection",function(e,t){console.error("Unhandled Rejection at:",t,"reason:",e),process.exit(1)}),global.navigator=global.navigator||{},global.navigator.userAgent=global.navigator.userAgent||"all";var Xe=a()();Xe.set("trust proxy",Q.a.trustProxy),Xe.use(a.a.static(o.a.resolve(__dirname,"public"))),Xe.use(u()()),Xe.use(l.a.urlencoded({extended:!0})),Xe.use(l.a.json()),Xe.use(f()({secret:Q.a.auth.jwt.secret,credentialsRequired:!1,getToken:function(e){return e.cookies.id_token}})),Xe.use(function(e,t,n,r){e instanceof p.UnauthorizedError&&(console.error("[express-jwt-error]",t.cookies.id_token),n.clearCookie("id_token")),r(e)}),Xe.use(_e.initialize()),Xe.get("/login/facebook",_e.authenticate("facebook",{scope:["email","user_location"],session:!1})),Xe.get("/login/facebook/return",_e.authenticate("facebook",{failureRedirect:"/login",session:!1}),function(e,t){var n=b.a.sign(e.user,Q.a.auth.jwt.secret,{expiresIn:15552e3});t.cookie("id_token",n,{maxAge:15552e6,httpOnly:!0}),t.redirect("/")}),Xe.use("/graphql",h()(function(e){return{schema:Le,graphiql:!1,rootValue:{request:e},pretty:!1}})),Xe.get("*",function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n,r){var o,i,a,c,u,s,l,p,f,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=new Set,i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return o.add(e._getCss())})},a=fe(g.a,{baseUrl:Q.a.api.serverUrl,cookie:t.headers.cookie,schema:Le,graphql:d.graphql}),c={user:t.user||null},(u=We(c,{fetch:a})).dispatch((m={name:"initialNow",value:Date.now()},void 0,void 0,b=m.name,v=m.value,{type:Be,payload:{name:b,value:v}})),s={insertCss:i,fetch:a,pathname:t.path,query:t.query,store:u,storeSubscription:null},e.next=10,Ee.resolve(s);case 10:if(!(l=e.sent).redirect){e.next=14;break}return n.redirect(l.status||302,l.redirect),e.abrupt("return");case 14:(p=Ze({},l)).children=j.a.renderToString(He(A,{context:s},void 0,l.component)),p.styles=[{id:"css",cssText:Ve(o).join("")}],f=new Set,(y=function(e){De.a[e]&&De.a[e].forEach(function(e){return f.add(e)})})("client"),l.chunk&&y(l.chunk),l.chunks&&l.chunks.forEach(y),p.scripts=Array.from(f),p.app={apiUrl:Q.a.api.clientUrl,state:s.store.getState()},h=j.a.renderToStaticMarkup(x.a.createElement(X,p)),n.status(l.status||200),n.send("<!doctype html>".concat(h)),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),r(e.t0);case 32:case"end":return e.stop()}var m,b,v},e,this,[[0,29]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e,t){try{var n=i[e](t),a=n.value}catch(e){return void o(e)}n.done?r(a):Promise.resolve(a).then(c,u)}function c(e){a("next",e)}function u(e){a("throw",e)}c()})});return function(e,n,r){return t.apply(this,arguments)}}());var et=new S.a;et.skipNodeFiles(),et.skipPackage("express"),Xe.use(function(e,t,n,r){console.error(et.render(e));var o=j.a.renderToStaticMarkup(He(X,{title:"Internal Server Error",description:e.message,styles:[{id:"css",cssText:re.a._getCss()}]},void 0,j.a.renderToString(He(se,{error:e}))));n.status(e.status||500),n.send("<!doctype html>".concat(o))}),je.sync().catch(function(e){return console.error(e.stack)}).then(function(){Xe.listen(Q.a.port,function(){console.info("The server is running at http://localhost:".concat(Q.a.port,"/"))})});t.default=Xe},function(e){e.exports={}},function(e,t){e.exports=require("redux-devtools-extension/developmentOnly")},function(e,t){e.exports=require("babel-runtime/helpers/slicedToArray")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t,n){(e.exports=n(27)(!1)).push([e.i,"html{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:0 32px;padding:0 2rem;height:100%;font-family:sans-serif;text-align:center;color:#888}body{margin:0}h1{font-weight:400;color:#555}pre{white-space:pre-wrap;text-align:left}",""])},function(e,t){e.exports=require("@babel/polyfill")},function(e,t,n){n(34),e.exports=n(28)},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("history/createBrowserHistory")}]);
//# sourceMappingURL=server.js.map